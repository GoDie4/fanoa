
generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model ServicioCategoria {
  id          String   @id @default(uuid())
  titulo      String
  subtitulo   String
  descripcion String   @db.Text
  imagen      String
  miniTitulo      String
  miniDescripcion String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  // Relaciones
  serviciosAdicionales ServicioAdicional[]
  trabajos             Trabajo[]
  proyectos            Proyecto[]

  @@map("servicio_categoria")
}

model ServicioAdicional {
  id          String   @id @default(uuid())
  titulo      String
  subtitulo   String
  imagen      String
  categoriaId String
  categoria   ServicioCategoria @relation(fields: [categoriaId], references: [id])
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("servicio_adicional")
}

model Trabajo {
  id          String   @id @default(uuid())
  titulo      String
  descripcion String   @db.Text
  imagen      String
  categoriaId String
  categoria   ServicioCategoria @relation(fields: [categoriaId], references: [id])
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("trabajo")
}

model Proyecto {
  id          String   @id @default(uuid())
  titulo      String
  imagen      String
  categoriaId String
  categoria   ServicioCategoria @relation(fields: [categoriaId], references: [id])
  createdAt   DateTime @default(now())
  updatedAt   DateTime @default(now())

  @@map("proyecto")
}

model BannerPrincipal {
  id          String   @id @default(uuid())
  titulo      String
  descripcion String   @db.Text
  imagen      String
  enlace      String
  textoBoton  String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("banner_principal")
}

model Feria {
  id        String   @id @default(uuid())
  imagen    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("feria")
}

model ServicioEditable {
  id          String   @id @default(uuid())
  titulo      String
  descripcion String   @db.Text
  componente1 String
  componente2 String
  componente3 String
  componente4 String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("servicio_editable")
}

model SeccionContacto {
  id          String   @id @default(uuid())
  titulo      String
  descripcion String   @db.Text
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("seccion_contacto")
}

model BannerSecundario {
  id        String   @id @default(uuid())
  imagen    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("banner_secundario")
}

model Usuario {
  id          String       @id @default(uuid())
  nombre      String
  email       String    @unique
  contrase√±a  String
  rol         Rol       @default(ADMIN)
  createdAt   DateTime  @default(now())

  @@map("usuario")
}

model BannerFinal {
  id          String      @id @default(uuid())
  titulo      String
  descripcion String   @db.Text
  images      Json
  @@map("banner_final")
}

enum Rol {
  ADMIN
} 